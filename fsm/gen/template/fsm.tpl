// Code generated by fsm-gen. DO NOT EDIT.
// source: {{.FSMFileName}}

package {{.FSMData.Package}}

import (
	"test/fsm"
	"{{.FSMData.PackageDir}}/{{.FSMData.Package}}/handlers"
	"{{.FSMData.PackageDir}}/{{.FSMData.Package}}/types"
)

{{- range $fsm := .FSMData.FSMs}}
func NewFSM{{$fsm.Name}}() *fsm.FSM[types.Payload] {
	f := fsm.NewFSM[types.Payload](types.FSMName{{$fsm.Name}}, types.{{$fsm.Initial}})

	f.SetTransitions(
		{{- range $transition := $fsm.Transitions}}
		fsm.NewTransitionItem(types.{{$transition.Event}}, types.{{$transition.From}}, types.{{$transition.To}}, handlers.GetHandler_{{$transition.Event}}_{{$transition.From}}()),
		{{- end}}
	)

	return f
}
{{end}}